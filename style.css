/* ========================================================================
   Variáveis globais
   ======================================================================== */
   :root {
    --reader-font-size:   1.1rem;
    --page-padding:       1.5rem;
    --parchment:          url("./assets/images/parchment.jpg");
    --font-title:         "IM Fell English SC", serif;
    --font-text:          "EB Garamond", serif;
    --bg-surround:        #333;
    --page-width:         60vw;
    --control-height:     1rem;
    --page-shadow:        0 0 30px rgba(0,0,0,.5);
  }
  
  /* ========================================================================
     Box sizing
     ======================================================================== */
  *, *::before, *::after {
    box-sizing: border-box;
  }
  
  /* ========================================================================
     Body e container principal
     ======================================================================== */
  body {
    margin: 0;
    padding: 0;
    background: var(--bg-surround);
    display: flex;
    align-items: flex-start;
    justify-content: center;
    height: 100vh;
    overflow: hidden;
  }

  .reader {
    position: relative;
    width: var(--page-width);
  }
  
  /* ========================================================================
     Página (folha de pergaminho)
     ======================================================================== */
  .page {
    position: relative;
    width: var(--page-width);
    height: 100vh;
    padding: var(--page-padding);
    background: var(--parchment) center/cover repeat;
    box-shadow: var(--page-shadow);
    font-family: var(--font-text);
    font-size: var(--reader-font-size);
    line-height: 1.55;
    color: #2b1a02;
    overflow: hidden;
  }
  
  /* Títulos */
  .page h1,
  .page h2,
  .page h3 {
    font-family: var(--font-title);
    margin-top: 0;
  }
  .page h1 {
    text-transform: capitalize;
    font-size: 2.5rem;
    text-align: center;
    margin: 0 0 1.5rem;
    line-height: 1.2;
  }
  
  /* ========================================================================
     Área de conteúdo (texto + imagens)
     ======================================================================== */
  .page-content {
    padding: var(--page-padding);
    border: 120px solid transparent;
    border-image-source: url("./assets/images/ornate-border.png");
    border-image-slice: 256 fill;     /* recorta 256px de cada lado */
    border-image-width: 120px;        /* aplica 120px de borda */
    border-image-repeat: round;       /* repete as laterais suavemente */
    height: calc(100% - var(--control-height));
    overflow: hidden;
  }
  
  /* ========================================================================
     Controles fixos dentro da página
     ======================================================================== */
  .page-controls {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: var(--control-height);
  }
  .page-controls button {
    position: absolute;
    background: none;
    border: none;
    cursor: pointer;
    z-index: 10;
  }
  /* Botões de navegação */
  .page-controls #prevBtn {
    left: 2rem;
    animation: bounce 2s infinite;
  }
  .page-controls #nextBtn {
    right: 2rem;
    animation: bounce 2s infinite;
  }
  /* Botões de fonte */
  .page-controls #prevBtn,
  .page-controls #nextBtn,
  .page-controls #fontDecBtn,
  .page-controls #fontIncBtn {
    bottom: calc(var(--control-height)/2 - 0.625rem);
  }
  .page-controls #fontDecBtn {
    left: 50%;
    transform: translateX(-2rem);
  }
  .page-controls #fontIncBtn {
    left: 50%;
    transform: translateX(1rem);
  }
  /* Estilo do texto dos botões */
  .page-controls button p {
    margin: 0;
    font-family: "Caveat", cursive;
    font-size: 1.25rem;
    color: #2b1a02;
    letter-spacing: 0.5px;
  }
  
  /* ========================================================================
     Animação dos botões
     ======================================================================== */
  @keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50%      { transform: translateX(6px); }
  }
  
  /* ========================================================================
     Drop-cap medieval
     ======================================================================== */
  .page-content > p:first-of-type::first-letter {
    float: left;
    shape-outside: inset(0);
    font-family: var(--font-title);
    font-size: 4.2rem;
    line-height: 1;
    display: block;
    width: 1.2em;
    height: 1.2em;
    padding: 0.15em;
    border: 3px solid #2b1a02;
    box-shadow: 0 0 4px rgba(0,0,0,.25);
    background: url("./assets/images/vines.png") center/110% repeat;
    color: #fff;
    -webkit-text-stroke: 3px #2b1a02;
    text-shadow:
      -3px -3px 0 #2b1a02,
       3px -3px 0 #2b1a02,
      -3px  3px 0 #2b1a02,
       3px  3px 0 #2b1a02;
    margin: 0 .65rem 0 0;
  }
  
  /* ========================================================================
     Xilogravuras Genéricas (imagens inline sem classe)
     ======================================================================== */
  .page-content p > img:first-child:not([class]) {
    float: left;
    shape-outside: inset(0);
    display: block;
    width: clamp(7em, 25%, 10em);
    height: auto;
    margin: 0 0.8rem 0.5rem 0;
    border: 3px solid #2b1a02;
    box-shadow: 0 0 4px rgba(0,0,0,.25);
    filter: grayscale(1) contrast(1.6) brightness(0.9);
  }
  
  /* ========================================================================
     Miniaturas “landscape” centralizadas
     ======================================================================== */
  .page-content figure.landscape {
    max-width: 90%;
    margin: 1.5rem auto;
    text-align: center;
  }
  .page-content figure.landscape img {
    max-height: 45vh;
    width: auto;
    height: auto;
  }
  .page-content figure.landscape figcaption {
    font-style: italic;
    font-size: .9rem;
    margin-top: .3rem;
  }
  
  /* ========================================================================
     Ilustrações de página inteira (“fullpage”)
     ======================================================================== */
  .page.fullpage .page-content {
    padding: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }
  .page.fullpage .page-content img {
    flex: 1 0 auto;
    width: 100%;
    height: 100%;
    object-fit: contain;
  }
  .page.fullpage .page-content figcaption {
    font-style: italic;
    text-align: center;
    padding: .5rem 1rem 1rem;
    background: rgba(255,255,240,.6);
  }
  
  /* ========================================================================
   Remove a moldura/parchment duplicada das seções injetadas em #book
   ======================================================================== */
/* Seleciona só o <section class="page"> que está dentro do .page-content#book */
.page-content#book > section.page {
    background: transparent;   /* herda o pergaminho da mãe */
    box-shadow: none;          /* sem sombra duplicada */
    padding: 0;                /* sem padding extra */
    width: 100%;
    height: auto;              /* deixa o texto fluir livremente */
  }
  